## 当前皮肤方案

### 切换皮肤

预设多个皮肤`css`文件，通过`scss`编译工具编译然后打包整合在`index.min.css`一个文件中，文件中各个皮肤通过不同`class`类名区分。

切换时，变更主题名称`class`前缀即可切换主题。

### 新增皮肤

目前方案已经将颜色变量提取出来，变更时只需要更换颜色即可。

## 主流方案

### 1.link动态引入

一个皮肤一个css文件，动态更改link变量，改变样式。

优点：**按需加载**，提高性能。

缺点：

- 切换需要网络加载，可维护性差，新增或修改主题较为麻烦，需要新增文件。
- 样式分布多个文件，查找复杂。
- 需要明确和修改样式路径，路径错误则加载错误。

```css
/* day.css */
.mode {
	color: #000;
	background-color: #fff;
}

/* dark.css */
.mode {
	color: #fff;
	background-color: #000;
}
```

### 2.提前引入类名+类名切换(当前方案)

多个皮肤打包到一个`css`文件中，通过切换`class`类名切换皮肤。

优点：相比方案1，**切换不需要网络加载**。

缺点：

- 多个皮肤样式打包在一起，如果样式文件过大，可能影响首屏加载速度，可维护性依旧较差，需要新增一套新皮肤代码。
- 颜色变量通过`scss`工具定义，最终统一编译打包到一个`css`文件，不能直接作为`css`变量存在，最终浏览器中仍然是css文件，不保留这些工具定义变量。
- 不同皮肤样式编写时分布多个文件，查找复杂。

```css
/* day skin */
body.day .box {
	color: #000;
	background-color: #fff;
}

/* dark skin */
body.dark .box {
	color: #fff;
	background-color: #000;
}
```

```js
// 切换皮肤
const change = (className) => {
  document.body.setAttribute('class', className);
}
```

### 3.CSS变量+类名切换(Vue3官方文档方案)

目前主流皮肤切换方案，使用CSS变量直接定义颜色变量，无需编译，在需要切换皮肤时，修改类名即可。

```css
/* 定义初始css变量 :root表示根目录 重复变量内部元素优先级更高 */
:root {
  --theme-color: #000;
  --theme-background: #fff;
}

/* 切换css变量值 */
/* day mode */
.day {
  --theme-color: #000;
  --theme-background: #fff;
}
/* dark mode */
.dark {
  --theme-color: #fff;
  --theme-background: #000;
}
.box {
  width: 100px;
  height: 100px;
  color: var(--theme-color);
  background: var(--theme-background);
}
```

```js
// 切换皮肤
document.body.setAttribute('class','dark');

// 直接指定变量颜色值，可以实现后端直接修改颜色
document.body.style.setProperty('--primary', '#7F583F');
```

优点：

- 不存在切换网络加载延迟。
- 新增修改灵活，只需新增变量或修改变量即可，不需要增加`css`样式文件。
- **可实现后端修改颜色皮肤**。

缺点：

- 首屏加载仍旧需要时间加载资源。

### 4.其它方案

当前项目未使用Vue3以及其它编译技术。



### 