---
创建时间: 2023-06-02T15:28
更新时间: 2023-11-28T19:24
---
## ip不正确处理

使用网线连接其它电脑共享的网络时，

关键点在于，被路由电脑要重新共享一次网络，也就是重新分配ip，否则ip是不对的

或者尝试将ip地址dns等固定为下面的(当前公司环境)，注意DNS和搜索域

## mac双网，同时连接内外网

在公司环境中，代码环境通常使用内网，同时需要访问外网查询资料时，通常的解决方案是同时连接内外网。

通常有两种形式：

1. 内网使用网线，外网使用wifi，如果是这种形式直接连接就行，连接完成将外网wifi的服务顺序移动到最前，默认是有线有线
2. 内外网都是路由器，没有有线，这种比较麻烦，无法直接解决，mac肯定不支持同时连接两个路由器，那就乱了套了，通常可以选择购买mac版无线网卡(比如tenda u12)增加无线网卡，或者购买路由器，将其中一个网络桥接到路由器，然后再通过有线连接到mac，最后还有一个方法是，通过一台windows笔记本，然后将windows和mac使用网线连接，需要注意windows需要开启允许其他连接设备使用windows的网络。

连接之后，多数情况下可以直接使用双网，但有时候不行，比如链接的内网路由器网段是192这种本地网段，和本机的本地网段重复，就会冲突，当然如果内网路由器网段是10.1.xx.xx这样的就不会冲突，无论是否冲突，都可以通过设置路由表映射的方式来定义：

```shell
sudo route add 10.1.7.58 192.168.137.1
```

上面明明的含义是，添加路由，访问`10.1.7.58`时，使用路由`192.168.137.1`，后面这个路由地址就是内网路由器的路由地址，前面通常是内网接口的地址，当然也可以设置一个网段，比如 `10.1.7.xx`和 `10.1.xx.xx`等，简单来说就是访问某些地址时使用地址的路由器地址，当然这些地址都需要是本机可以访问到的地址。

删除路由
```shell
sudo route delete 10.1.7.58 192.168.137.1
或者
sudo route delete 10.1.7.58
```

查看所有路由记录
```shell
netstat -rn
```

有时候有的路由映射的地址不对，但是又无法删除，可能是其它应用产生的这个路由映射记录，可以使用下面的命令来清空这些记录，可以多次执行，知道没有打印信息才可能清空干净，然后重启终端再看看还有没有这些不对的映射记录
```shell
sudo route -n flush
```

同时要注意清空之后，内外网的都无法访问了，需要关闭这两个网络重新连接一下，因为没有这两个的路由记录了